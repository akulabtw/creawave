name: üöÄ Ping CreaWave Bot

on:
  schedule:
    # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
    - cron: '*/5 * * * *'
  workflow_dispatch:  # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é

jobs:
  ping-bot:
    runs-on: ubuntu-latest
    
    steps:
    - name: üîÅ Ping the bot
      run: |
        echo "üïê –í—Ä–µ–º—è: $(date)"
        echo "üì° –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –±–æ—Ç—É..."
        
        # –ü—Ä–æ–±—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ URL
        URL="https://workspace.akulabtw.repl.co"
        echo "üîó –ü—Ä–æ–≤–µ—Ä—è–µ–º URL: $URL"
        
        # –ü—Ä–æ–±—É–µ–º curl —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
        response_code=$(curl -s -o /dev/null -w "%{http_code}" --connect-timeout 10 --max-time 15 "$URL" 2>/dev/null || echo "000")
        
        echo "üìä –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: $response_code"
        
        if [ "$response_code" -eq 200 ]; then
          echo "‚úÖ –£–°–ü–ï–•! –ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω."
        elif [ "$response_code" -eq 000 ]; then
          echo "‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º. –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥..."
          
          # –ü—Ä–æ–±—É–µ–º wget –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
          if command -v wget &> /dev/null; then
            wget_response=$(wget --spider --timeout=10 --tries=1 "$URL" 2>&1 | grep -c "200 OK" || echo "0")
            if [ "$wget_response" -eq 1 ]; then
              echo "‚úÖ WGET –£–°–ü–ï–•! –ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω."
            else
              echo "‚ùå –û–®–ò–ë–ö–ê! –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL: $URL"
            fi
          else
            echo "‚ùå –û–®–ò–ë–ö–ê! –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–æ—Ç—É."
          fi
        else
          echo "‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï! –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞: $response_code"
        fi
        
    - name: üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
      run: |
        echo "üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ..."
        ping -c 2 google.com && echo "‚úÖ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç" || echo "‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º"
        
    - name: üìã –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
      run: |
        echo "========================================"
        echo "ü§ñ CreaWave Bot Ping Service"
        echo "‚è∞ –°–ª–µ–¥—É—é—â–∏–π –ø–∏–Ω–≥ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç"
        echo "üìç –¢–µ–∫—É—â–∏–π URL: https://workspace.akulabtw.repl.co"
        echo "========================================"
